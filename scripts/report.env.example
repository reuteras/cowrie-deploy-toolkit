#!/bin/bash
# Example environment configuration for Cowrie Daily Report System
# Copy this file to /opt/cowrie/etc/report.env and customize

# Paths
export COWRIE_LOG_PATH="/var/lib/docker/volumes/cowrie-var/_data/log/cowrie/cowrie.json"
export COWRIE_DOWNLOAD_PATH="/var/lib/docker/volumes/cowrie-var/_data/lib/cowrie/downloads"
export GEOIP_DB_PATH="/opt/cowrie/geoip/GeoLite2-City.mmdb"
export GEOIP_ASN_PATH="/opt/cowrie/geoip/GeoLite2-ASN.mmdb"
export YARA_RULES_PATH="/opt/cowrie/yara-rules"
export CACHE_DB_PATH="/opt/cowrie/var/report-cache.db"

# VirusTotal (get free API key from https://www.virustotal.com/)
export VT_API_KEY="YOUR_VIRUSTOTAL_API_KEY_HERE"
export VT_ENABLED="true"

# Email Configuration
export EMAIL_ENABLED="true"
export EMAIL_FROM="honeypot@yourdomain.com"
export EMAIL_TO="admin@yourdomain.com"
export EMAIL_SUBJECT_PREFIX="[Honeypot]"

# SMTP Settings (example: Gmail)
# For Gmail: Enable 2FA and use App Password
export SMTP_HOST="smtp.gmail.com"
export SMTP_PORT="587"
export SMTP_USER="your_email@gmail.com"
export SMTP_PASSWORD="your_app_password_here"
export SMTP_TLS="true"

# OR use SendGrid (recommended for reliability)
# Uncomment and set your SendGrid API key
# export SENDGRID_API_KEY="SG.your_sendgrid_api_key_here"

# OR use Mailgun
# Uncomment and set your Mailgun credentials
# export MAILGUN_API_KEY="your_mailgun_api_key_here"
# export MAILGUN_DOMAIN="mg.yourdomain.com"

# Webhook Alerts (optional)
# Uncomment and set webhook URLs from your chat platform
# export SLACK_WEBHOOK="https://hooks.slack.com/services/YOUR/WEBHOOK/URL"
# export DISCORD_WEBHOOK="https://discord.com/api/webhooks/YOUR/WEBHOOK/URL"
# export TEAMS_WEBHOOK="https://outlook.office.com/webhook/YOUR/WEBHOOK/URL"

# Alert Thresholds
export ALERT_THRESHOLD_CONNECTIONS="100"
export ALERT_ON_MALWARE="true"

# Report Settings
export REPORT_HOURS="24"
export INCLUDE_MAP="true"
